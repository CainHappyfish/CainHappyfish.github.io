{"title":"总线与接口","uid":"254a310a18e37ba37214c374ad798d9c","slug":"总线与接口","date":"2023-11-15T11:48:05.000Z","updated":"2023-12-12T01:20:49.465Z","comments":true,"path":"api/articles/总线与接口.json","keywords":null,"cover":[],"content":"<h2 id=\"总线\"><a href=\"#总线\" class=\"headerlink\" title=\"总线\"></a>总线</h2><p>一组为多个部件分时共享的信息传送线路。</p>\n<p>特点：分时共享</p>\n<p>特定时刻只允许一个部件送出数据到总线上</p>\n<p><img src=\"https://pic.imgdb.cn/item/6554b21dc458853aef84df45.jpg\" alt=\"\"></p>\n<h3 id=\"分类\"><a href=\"#分类\" class=\"headerlink\" title=\"分类\"></a>分类</h3><p><strong>按传输信号的类型</strong></p>\n<ul>\n<li>数据总线：传输数据信息，决定总线宽度</li>\n<li>地址总线：传输地址信息，决定寻址能力</li>\n<li>控制总线：传输控制信息和状态信息</li>\n</ul>\n<p><strong>按数据传送格式划分</strong></p>\n<ul>\n<li>并行总线：多条数据线，并行（同时）传送各位信息</li>\n<li>串行总线：一条数据线，分时逐位传送各位信息</li>\n</ul>\n<p><strong>按时序控制方式划分</strong></p>\n<ul>\n<li><p>同步总线：由统一时序信号控制总线传送操作在<strong>固定时钟周期</strong>内（一个或多个）完成数据传送，由同步脉冲定时打入。</p>\n<p><img src=\"https://pic.imgdb.cn/item/6554b5b1c458853aef9074b0.jpg\" alt=\"\"></p>\n</li>\n<li><p>异步总线：无固定时钟周期划分，<strong>总线周期时间由传送实际需要决定</strong>，以异步应答方式控制传送。</p>\n<p><img src=\"https://pic.imgdb.cn/item/6554b5bcc458853aef909ba4.jpg\" alt=\"\"></p>\n</li>\n<li><p>扩展同步总线：</p>\n<p>以时钟周期为基础，允许总线周期（完成一次主存或IO端口访问的时间）中的时钟数可变（既有统一时序同步时钟，又有应答信号）。</p>\n<p><img src=\"https://pic.imgdb.cn/item/6554b6f6c458853aef950721.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<p>几个周期的概念：</p>\n<ul>\n<li>时钟周期：<strong>CPU一步操作</strong>（一次内部数据通路传送）时间</li>\n<li>总线周期：经过总线的一次<strong>数据传送</strong>（访存）时间，通常包含若干时钟周期。（模型机的一个总线周期只包含一个时钟周期）</li>\n<li>工作周期：指令周期中的一个操作阶段，可包含多个总线周期</li>\n</ul>\n<p><strong>按功能划分</strong></p>\n<ul>\n<li>CPU内总线：ALU总线，可以同步、并步传送信息</li>\n<li>部件内总线：局部总线、片级总线</li>\n<li>系统总线：板级总线，可以同步、异步、扩展同步、并行</li>\n<li>外总线：通信总线，可以异步、并行、串行传送信息</li>\n</ul>\n<p>​    <img src=\"https://pic.imgdb.cn/item/6554b89ac458853aef9af065.jpg\" alt=\"\"></p>\n<p>按方向划分</p>\n<ul>\n<li>单向总线</li>\n<li>双向总线</li>\n</ul>\n<h3 id=\"总线标准\"><a href=\"#总线标准\" class=\"headerlink\" title=\"总线标准\"></a>总线标准</h3><p>对总线信号组成、信号引脚含义、信号电平等作统一规定。</p>\n<p>针对系统总线和外总线，对总线四大特性进行统一的规范，如下:</p>\n<ul>\n<li>物理特性：如接插头大小/引脚数量/相对位置等</li>\n<li>功能特性:描述每一信号线的功能</li>\n<li>电气特性：如信号传送方向、信号驱动能力、抗干扰能力、信号的正负逻辑等</li>\n<li>时间特性：如信号有效的时机、持续时间等</li>\n</ul>\n<p><strong>技术指标</strong></p>\n<ul>\n<li>总线宽度：总线能同时传输的二进制位数</li>\n<li>总线频率：总线在单位时间(秒)传输数据的次数</li>\n<li>总线数据传输率：<ul>\n<li>单位时间内总线输出的数据总量（B/s）</li>\n<li>总线数据传输率=(总线宽度/8)x总线频率，这里除以8是计算总线能传输的字节数</li>\n</ul>\n</li>\n</ul>\n<p><strong>常见总线标准</strong></p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">总线</th>\n<th style=\"text-align:center\">开发者</th>\n<th style=\"text-align:center\">宽度</th>\n<th style=\"text-align:center\">频率</th>\n<th style=\"text-align:center\">传输率</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">ISA</td>\n<td style=\"text-align:center\">IBM   1984</td>\n<td style=\"text-align:center\">8/16</td>\n<td style=\"text-align:center\">8.33M</td>\n<td style=\"text-align:center\">8.33/16.66MB/s</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">EISA</td>\n<td style=\"text-align:center\">Compaq等1988</td>\n<td style=\"text-align:center\">32</td>\n<td style=\"text-align:center\">8.33M</td>\n<td style=\"text-align:center\">33.3MB/s</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">AGP</td>\n<td style=\"text-align:center\">Intel，1996</td>\n<td style=\"text-align:center\">32</td>\n<td style=\"text-align:center\">66.6M×1/2/4/8</td>\n<td style=\"text-align:center\">266.4MB/s…</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>PCI</strong></td>\n<td style=\"text-align:center\">Intel，1991</td>\n<td style=\"text-align:center\">32/64</td>\n<td style=\"text-align:center\">33/66/133M</td>\n<td style=\"text-align:center\">132MB/s…</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>USB</strong></td>\n<td style=\"text-align:center\">Intel，IBM等，1994</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1.5/12/480/4000M</td>\n<td style=\"text-align:center\">0.2/1.5/60/500MB/s</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><img src=\"https://pic.imgdb.cn/item/655db1a0c458853aef12d4ee.jpg\" alt=\"\"></p>\n<h2 id=\"接口\"><a href=\"#接口\" class=\"headerlink\" title=\"接口\"></a>接口</h2><p>输入输出设备也称外部设备，简称<strong>外设</strong>。</p>\n<p>外设与系统总线之间的逻辑电路称为输入输出接口，简称<strong>I/O接口</strong>。</p>\n<p>需要I/O接口的原因：</p>\n<ul>\n<li>工作速度，不同速度外设与CPU连接</li>\n<li>数据格式的转换，外设与CPU的数据格式可能不同</li>\n<li>一次数据传送量的控制</li>\n<li>其它因素(如电平转换—)</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/6554bc70c458853aefa9555c.jpg\" alt=\"\"></p>\n<h3 id=\"主要功能\"><a href=\"#主要功能\" class=\"headerlink\" title=\"主要功能\"></a>主要功能</h3><ul>\n<li>寻址<ul>\n<li>接受CPU送来的地址码</li>\n<li>选择接口中的寄存器供CPU访问</li>\n</ul>\n</li>\n<li>数据缓冲<ul>\n<li>实现主机与外设的速度匹配</li>\n<li>缓冲深度与传送的数据量有关</li>\n</ul>\n</li>\n<li>预处理<ul>\n<li>串-并格式转换（串口）</li>\n<li>数据通路宽度转换（并口）</li>\n<li>电平转换</li>\n</ul>\n</li>\n<li>控制功能<ul>\n<li>传送控制命令与状态信息，实现I/O传送控制</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/655db3edc458853aef1a1b14.jpg\" alt=\"\"></p>\n<h3 id=\"接口编址\"><a href=\"#接口编址\" class=\"headerlink\" title=\"接口编址\"></a>接口编址</h3><ul>\n<li><p>统一编址：为每个端口分配总线地址通用的传送类指令</p>\n</li>\n<li><p>单独编址：编址到设备端口，有专门的I/O指令，例如：</p>\n<p>IN            AL, 61H</p>\n<p>OUT        62H, AL</p>\n</li>\n</ul>\n<h3 id=\"接口分类\"><a href=\"#接口分类\" class=\"headerlink\" title=\"接口分类\"></a>接口分类</h3><p><strong>按数据传送格式划分</strong></p>\n<ul>\n<li>并行接口：接口与系统总线、接口与外设均按并行方式传送数据；数据各位<strong>同时</strong>传送。适合设备本身并行工作，距主机较近的场合。</li>\n<li>串行接口：接口与系统总线并行传送，接口与外设串行传送；数据逐位分时传送。适用于设备本身串行工作，或距主机较远，或需减少传送线的情况。</li>\n</ul>\n<p><strong>按时序控制方式划分</strong></p>\n<ul>\n<li><p>同步接口：连接同步总线，接口与系统总线的信息传送由统一时序信号控制。</p>\n</li>\n<li><p>异步接口：连接异步总线，接口与系统总线的信息传送采用异步应答方式。</p>\n</li>\n</ul>\n<p><strong>按主机与外设的信息交换（I/O传送）控制方式</strong></p>\n<ul>\n<li><p>直接程序传送接口：</p>\n<p>依靠CPU直接执行相关的I/O程序或者通过硬件按指定优先级查询各设备是否要进行I/O，来实现数据的输入和输出控制。</p>\n</li>\n<li><p>中断接口：</p>\n<p>设备提出中断请求，主机响应后与设备交换信息，接口中包含中断控制逻辑。</p>\n</li>\n<li><p>DMA接口：</p>\n<p>支持高速外设与主存之间进行DMA方式交换数据。</p>\n</li>\n</ul>\n<h3 id=\"信息传送控制方式\"><a href=\"#信息传送控制方式\" class=\"headerlink\" title=\"信息传送控制方式\"></a>信息传送控制方式</h3><ul>\n<li><p>主机与外设的信息交换过程</p>\n<p><strong>输入</strong>：</p>\n<ul>\n<li>CPU送地址到地址总线，选择输入设备</li>\n<li>CPU等候输入设备的数据成为有效</li>\n<li>CPU从数据总线读取数据</li>\n</ul>\n<p><strong>输出</strong>：</p>\n<ul>\n<li>CPU送地址到地址总线，选择输出设备</li>\n<li>CPU将数据送到数据总线</li>\n<li>输出设备获知数据有效，取走数据</li>\n</ul>\n</li>\n<li><p>信息传送控制方式</p>\n<ul>\n<li><p>直接程序传送方式</p>\n<p>CPU通过在现行程序中直接执行I/O指令实现数据传送</p>\n</li>\n<li><p>程序中断方式</p>\n<p>启动设备后，CPU执行自身程序，设备准备好后发中断请求，CPU再响应</p>\n</li>\n<li><p>直接存储器访问（DMA）方式</p>\n<p>设备准备好后发DMA请求，DMA控制器控制总线权，控制外设与主存之间直接数据传送</p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"程序直接传送及接口\"><a href=\"#程序直接传送及接口\" class=\"headerlink\" title=\"程序直接传送及接口\"></a>程序直接传送及接口</h2><p>执行I/O操作时，CPU直接访问I/O接口，输入或输出数据。</p>\n<p><img src=\"https://pic.imgdb.cn/item/6554c6a7c458853aefd21827.jpg\" alt=\"\"></p>\n<p>执行/O指令之前,先查询设备状态，等待外设准备好、或完成一次操作，CPU再执行I/O指令与外设交换信息。</p>\n<ul>\n<li><p>设备状态</p>\n<p><img src=\"https://pic.imgdb.cn/item/6554c758c458853aefd553df.jpg\" alt=\"\"></p>\n</li>\n<li><p>查询方式的程序流程</p>\n<p><img src=\"https://pic.imgdb.cn/item/6554c7c8c458853aefd80b81.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<p>优缺点：</p>\n<ul>\n<li>硬件开销小</li>\n<li>并行程度低，实时性差</li>\n</ul>\n<p>应用场合</p>\n<ul>\n<li>对CPU效率要求不高的场合</li>\n<li>或诊断、调试过程</li>\n</ul>\n<h2 id=\"模型机系统总线组成\"><a href=\"#模型机系统总线组成\" class=\"headerlink\" title=\"模型机系统总线组成\"></a>模型机系统总线组成</h2><h3 id=\"总线信号组成\"><a href=\"#总线信号组成\" class=\"headerlink\" title=\"总线信号组成\"></a>总线信号组成</h3><p>模型机系统总线共78条：</p>\n<ul>\n<li><p>电源线与地线：16条</p>\n<ul>\n<li>电源线10条： <strong>+5V</strong> 2条（主电源线），<strong>-5V</strong> 2条，<strong>+12V</strong> 2条， <strong>-12V</strong> 2条</li>\n<li>地线4条</li>\n<li>附加地线2条</li>\n</ul>\n</li>\n<li><p>地址线：16条</p>\n<p>寻址空间<mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: -0.186ex;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"22.747ex\" height=\"2.072ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -833.9 10054.3 915.9\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mn\"><path data-c=\"36\" d=\"M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z\"></path><path data-c=\"34\" d=\"M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z\" transform=\"translate(500,0)\"></path></g><g data-mml-node=\"mi\" transform=\"translate(1000,0)\"><path data-c=\"1D43E\" d=\"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z\"></path></g><g data-mml-node=\"mi\" transform=\"translate(1889,0)\"><path data-c=\"1D435\" d=\"M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z\"></path></g><g data-mml-node=\"mo\" transform=\"translate(2925.8,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\"></path></g><g data-mml-node=\"msup\" transform=\"translate(3981.6,0)\"><g data-mml-node=\"mn\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\"></path></g><g data-mml-node=\"mn\" transform=\"translate(533,363) scale(0.707)\"><path data-c=\"36\" d=\"M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z\"></path></g></g><g data-mml-node=\"mo\" transform=\"translate(5140.3,0)\"><path data-c=\"D7\" d=\"M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z\"></path></g><g data-mml-node=\"msup\" transform=\"translate(6140.6,0)\"><g data-mml-node=\"mn\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\"></path></g><g data-mml-node=\"TeXAtom\" transform=\"translate(533,363) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mn\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\"></path><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\" transform=\"translate(500,0)\"></path></g></g></g><g data-mml-node=\"mo\" transform=\"translate(7708.4,0)\"><path data-c=\"3D\" d=\"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z\"></path></g><g data-mml-node=\"msup\" transform=\"translate(8764.2,0)\"><g data-mml-node=\"mn\"><path data-c=\"32\" d=\"M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z\"></path></g><g data-mml-node=\"TeXAtom\" transform=\"translate(533,363) scale(0.707)\" data-mjx-texclass=\"ORD\"><g data-mml-node=\"mn\"><path data-c=\"31\" d=\"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z\"></path><path data-c=\"36\" d=\"M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z\" transform=\"translate(500,0)\"></path></g></g></g></g></g></svg></mjx-container>需要16条地址线，包括I/O端口地址</p>\n</li>\n<li><p>数据线：16条</p>\n</li>\n<li><p>控制信号线：30条</p>\n<p>七组：</p>\n<ul>\n<li>复位信号线（RESET）：1条</li>\n<li>同步定时信号线：6条</li>\n<li>异步应答信号线：3条</li>\n<li>总线控制权信号线：3条（BREQ，BACK，BUSY）</li>\n<li>中断请求与响应信号线：10条（IREQ0—IREQ7，INT，INTA）</li>\n<li>优先权判定线</li>\n</ul>\n<p>数据传送控制信号：5条（MEMR，MEMW，IOR，IOW，BHEN）</p>\n</li>\n</ul>\n<h3 id=\"总线操作与时序\"><a href=\"#总线操作与时序\" class=\"headerlink\" title=\"总线操作与时序\"></a>总线操作与时序</h3><ul>\n<li><p>同步控制的总线操作</p>\n<p>主要特征：以<strong>时钟周期</strong>为划分时间段的<strong>基准</strong>。</p>\n<p>总线周期为时钟周期的整数倍。</p>\n</li>\n<li><p>异步控制方式的总线特征</p>\n<p>主要特征：没有统一的时钟周期划分，而采取<strong>应答方式</strong>实现总线的传送操作，所需时间视需要而定。</p>\n<p>根据主、从设备的请求信号、回答信号及设备自身定时的关系。</p>\n<p>异步应答有不互锁、半互锁、全互锁三类：</p>\n<ul>\n<li><p>不互锁：请求信号引发回答信号，两个信号的结束是由设备自身定时决定的。</p>\n</li>\n<li><p>半互锁：请求信号引发回答信号，设备1的请求信号的结束是设备2决定的。</p>\n</li>\n<li><p>全互锁：请求信号引发回答信号，设备1的请求信号的结束是由设备2决定的，设备2的回答结束信号是根据设备1决定的。</p>\n<p><img src=\"https://pic.imgdb.cn/item/65633dd8c458853aef2b1a27.jpg\" alt=\"\"></p>\n<p><img src=\"https://pic.imgdb.cn/item/65633e2ac458853aef2c52d9.jpg\" alt=\"\"></p>\n</li>\n<li><p>扩展同步控制方式</p>\n<p>以时钟周期为时序基础，允许总线周期中的时钟数可变。</p>\n<p><img src=\"https://pic.imgdb.cn/item/65633e91c458853aef2dc983.jpg\" alt=\"\"></p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"直接程序传送方式\"><a href=\"#直接程序传送方式\" class=\"headerlink\" title=\"直接程序传送方式\"></a>直接程序传送方式</h2><p>使用I/O指令编程实现信息传送</p>\n<ul>\n<li><p>外设状态</p>\n<p>在接口中设置状态字表示这些状态。</p>\n<ul>\n<li><p>空闲：调用前设备不工作</p>\n</li>\n<li><p>结束：调用后设备完成工作</p>\n<p><img src=\"https://pic.imgdb.cn/item/656340e5c458853aef370ad1.jpg\" alt=\"\"></p>\n</li>\n<li><p>程序查询接口模型</p>\n<p><img src=\"https://pic.imgdb.cn/item/65634124c458853aef382716.jpg\" alt=\"\"></p>\n</li>\n<li><p>查询流程</p>\n<ol>\n<li><p>输出指令设置启动信号</p>\n</li>\n<li><p>输入指令读取状态信息并判断</p>\n</li>\n<li><p>I/O指令读/写数据</p>\n<p><img src=\"https://pic.imgdb.cn/item/656343edc458853aef441922.jpg\" alt=\"\"></p>\n<p>输入接口示例：</p>\n<p><img src=\"https://pic.imgdb.cn/item/6563447fc458853aef46ad0e.jpg\" alt=\"\"></p>\n<p>查询输入程序：</p>\n<pre><code>WAIT: \n    IN AL, STATUS\n    TEST AL, 80H\n    JZ WAIT            ; READY=0, KEEP WAITING\n    IN AL, DATA\n</code></pre><p>输出接口示例：</p>\n<p><img src=\"https://pic.imgdb.cn/item/6563451ac458853aef49677d.jpg\" alt=\"\"></p>\n<p>查询输出程序：</p>\n<pre><code>WAIT:\n    IN AL, STATUS\n    TEST AL, 08H\n    JNZ WAIT            ; BUSY, NOT READY YET\n    MOV AL, BUFF        ; BUFF SEND 1 TO AL, 主存缓冲器BUFF取1数据送AL \n    OUT DATA, AL        ; DATA数据端口号\n</code></pre></li>\n</ol>\n</li>\n<li><p>优缺点</p>\n<p>硬件开销小；实时处理能力差，并行程度低</p>\n</li>\n<li><p>应用场合</p>\n<p>对CPU效率要求不高的场合，或诊断、调试过程</p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"中断方式及接口\"><a href=\"#中断方式及接口\" class=\"headerlink\" title=\"中断方式及接口\"></a>中断方式及接口</h2><h3 id=\"中断基本概念\"><a href=\"#中断基本概念\" class=\"headerlink\" title=\"中断基本概念\"></a>中断基本概念</h3><p><strong>中断</strong>指的是CPU暂时中止现行程序的执行，转去执行为某个随机事态服务的中断处理程序。处理完毕后自动恢复原程序的执行。</p>\n<h4 id=\"实质\"><a href=\"#实质\" class=\"headerlink\" title=\"实质\"></a>实质</h4><p>程序切换的方法：</p>\n<ul>\n<li>保存断点，保护现场（中断处理前）</li>\n<li>恢复现场，返回断点（中断处理后）</li>\n</ul>\n<p>程序切换的时间：</p>\n<ul>\n<li>一条指令结束时切换</li>\n<li>保证程序的完整性</li>\n</ul>\n<h4 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h4><p>随机性：</p>\n<ul>\n<li>随机发生的事态（按键，故障等）</li>\n<li>有意调用，随机请求与处理的事态（调用打印机）</li>\n<li>随机插入的事态（软中断指令插入程序任何位置）<ul>\n<li>注意<strong>中断</strong>与<strong>转子</strong>的区别</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"分类-1\"><a href=\"#分类-1\" class=\"headerlink\" title=\"分类\"></a>分类</h4><ul>\n<li>硬件中断与软中断<ul>\n<li>硬件中断：由硬件请求信号引发中断</li>\n<li>软中断：由软中断指令引发中断</li>\n</ul>\n</li>\n<li>内中断与外中断<ul>\n<li>内中断：中断源来自主机内部</li>\n<li>外中断：中断源来自主机外部</li>\n</ul>\n</li>\n<li>可屏蔽中断与非屏蔽中断<ul>\n<li>可屏蔽中断：可通过屏蔽字屏蔽该类请求；关中断时不响应该类请求。</li>\n<li>非屏蔽中断：该类请求与屏蔽字无关；请求的响应与开/关中断无关。</li>\n</ul>\n</li>\n<li>向量中断与非向量中断<ul>\n<li>向量中断：由硬件提供服务程序入口地址。</li>\n<li>非向量中断：由软件提供服务程序入口地址</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"典型应用\"><a href=\"#典型应用\" class=\"headerlink\" title=\"典型应用\"></a>典型应用</h4><ul>\n<li><p>管理中低速I/O操作</p>\n</li>\n<li><p>处理故障</p>\n</li>\n<li><p>实时处理</p>\n<p>某事件出现的实际时间内及时处理，不是批量处理；</p>\n<p>利用时钟中断定时采集参数，检测，调节。</p>\n</li>\n<li><p>人机对话</p>\n</li>\n<li><p>多机通信</p>\n</li>\n</ul>\n<h4 id=\"终端系统的硬、软件组织\"><a href=\"#终端系统的硬、软件组织\" class=\"headerlink\" title=\"终端系统的硬、软件组织\"></a>终端系统的硬、软件组织</h4><p>硬件：I/O接口</p>\n<p>软件：中断请求源，中断服务程序，中断向量表</p>\n<ul>\n<li><p>中断请求源</p>\n<ul>\n<li>外部硬件中断源：8种，IREQ0—IREQ7</li>\n<li>内部硬件中断源：掉电、溢出、校验错中断等</li>\n<li>软中断：模型机软中断为INT11—INTn</li>\n</ul>\n</li>\n<li><p>中断服务程序</p>\n<p>在主存种的空间不必连续</p>\n</li>\n<li><p>中断向量表</p>\n<ul>\n<li>存放在模型机中的空间不必连续</li>\n<li>向量地址=中断号+2</li>\n</ul>\n</li>\n</ul>\n","text":"总线一组为多个部件分时共享的信息传送线路。 特点：分时共享 特定时刻只允许一个部件送出数据到总线上 分类按传输信号的类型 数据总线：传输数据信息，决定总线宽度 ...","permalink":"/post/总线与接口","photos":[],"count_time":{"symbolsCount":"4.2k","symbolsTime":"4 mins."},"categories":[],"tags":[{"name":"计算机组成原理","slug":"计算机组成原理","count":10,"path":"api/tags/计算机组成原理.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BA%BF\"><span class=\"toc-text\">总线</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%86%E7%B1%BB\"><span class=\"toc-text\">分类</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BA%BF%E6%A0%87%E5%87%86\"><span class=\"toc-text\">总线标准</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\">接口</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">主要功能</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8E%A5%E5%8F%A3%E7%BC%96%E5%9D%80\"><span class=\"toc-text\">接口编址</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB\"><span class=\"toc-text\">接口分类</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%A1%E6%81%AF%E4%BC%A0%E9%80%81%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">信息传送控制方式</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%A8%8B%E5%BA%8F%E7%9B%B4%E6%8E%A5%E4%BC%A0%E9%80%81%E5%8F%8A%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\">程序直接传送及接口</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E5%9E%8B%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E7%BB%84%E6%88%90\"><span class=\"toc-text\">模型机系统总线组成</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BA%BF%E4%BF%A1%E5%8F%B7%E7%BB%84%E6%88%90\"><span class=\"toc-text\">总线信号组成</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BA%BF%E6%93%8D%E4%BD%9C%E4%B8%8E%E6%97%B6%E5%BA%8F\"><span class=\"toc-text\">总线操作与时序</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%9B%B4%E6%8E%A5%E7%A8%8B%E5%BA%8F%E4%BC%A0%E9%80%81%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">直接程序传送方式</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%AD%E6%96%AD%E6%96%B9%E5%BC%8F%E5%8F%8A%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\">中断方式及接口</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%AD%E6%96%AD%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5\"><span class=\"toc-text\">中断基本概念</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E8%B4%A8\"><span class=\"toc-text\">实质</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">特点</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%88%86%E7%B1%BB-1\"><span class=\"toc-text\">分类</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8\"><span class=\"toc-text\">典型应用</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%BB%88%E7%AB%AF%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%A1%AC%E3%80%81%E8%BD%AF%E4%BB%B6%E7%BB%84%E7%BB%87\"><span class=\"toc-text\">终端系统的硬、软件组织</span></a></li></ol></li></ol></li></ol>","author":{"name":"C4IN","slug":"blog-author","avatar":"/pic/au.jpg","link":"/","description":"这里是破酥的个人博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"数值计算-非线性方程组求根","uid":"97103139ce60d6a1a5b401631bf76078","slug":"数值计算公式整理-第二章","date":"2023-11-30T08:21:49.000Z","updated":"2023-12-01T10:58:48.180Z","comments":true,"path":"api/articles/数值计算公式整理-第二章.json","keywords":null,"cover":null,"text":"数值计算公式整理备考捏（悲 期末考试题型包括：计算，简答和判断分析改错 第二章 非线性方程组的求根方法😃二分法 定理一 设函数在区间连续，且,则方程在区间内至少...","permalink":"/post/数值计算公式整理-第二章","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"数值计算","slug":"数值计算","count":9,"path":"api/tags/数值计算.json"}],"author":{"name":"C4IN","slug":"blog-author","avatar":"/pic/au.jpg","link":"/","description":"这里是破酥的个人博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"buuoj-reverse WP-1","uid":"ec97abd0452c3383ae6efc5f2ebc40f7","slug":"WP-1","date":"2023-11-14T08:44:12.000Z","updated":"2023-11-14T08:43:12.291Z","comments":true,"path":"api/articles/WP-1.json","keywords":null,"cover":[],"text":"Buuoj-Reverse WP-1来学学逆向工程，顺便学学计组 reverse1在strings窗口发现flag，但直接输入发现flag错误。 进行反汇编，发...","permalink":"/post/WP-1","photos":[],"count_time":{"symbolsCount":"22k","symbolsTime":"20 mins."},"categories":[],"tags":[{"name":"CTF","slug":"CTF","count":1,"path":"api/tags/CTF.json"},{"name":"Reverse","slug":"Reverse","count":1,"path":"api/tags/Reverse.json"},{"name":"buuoj","slug":"buuoj","count":1,"path":"api/tags/buuoj.json"}],"author":{"name":"C4IN","slug":"blog-author","avatar":"/pic/au.jpg","link":"/","description":"这里是破酥的个人博客","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}